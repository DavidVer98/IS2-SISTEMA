from django.contrib.auth import get_user_model;
from allauth.socialaccount.models import SocialApp
from django.contrib.sites.models import Site
from user.models import User
from django.contrib.auth.models import Group

#se crea super usuario admin
Admin = get_user_model();
Admin.objects.create_superuser('admin', 'pistoleronani1912@gmail.com', 'admin')


#configuraciones iniciales de super usuario admin
usuario=User.objects.get(email='pistoleronani1912@gmail.com')
usuario.rolSistema="Administrador"
usuario.estaActivado=True
usuario.groups.add(Group.objects.get(pk=1))
usuario.save()

#Configuracion del API y de los sitios
site = Site.objects.create(name="127.0.0.1:8000", domain="127.0.0.1:8000")
site2 = Site.objects.get(name="example.com")
social = SocialApp.objects.create(
        provider="google",
        name="API",
        client_id="1031966865858-d98j99tg38vcdfh3ddch3rogvdohl1i8.apps.googleusercontent.com",
        secret="frBsUXC5eA9b7HSqh-lcZc7o",
    )

social.sites.add(site)
social.sites.add(site2)
social.save()
